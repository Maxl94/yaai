# Database connection
DATABASE_URL=postgresql+asyncpg://aimon:changeme@localhost:5431/aimonitoring
DATABASE_URL_SYNC=postgresql://aimon:changeme@localhost:5431/aimonitoring

# PostgreSQL (used by docker compose)
POSTGRES_USER=aimon
POSTGRES_PASSWORD=changeme
POSTGRES_DB=aimonitoring

# Session secret (used by OAuth state middleware)
# Generate with: openssl rand -base64 32
SESSION_SECRET=dev-session-secret-change-me

# Default admin password (only used on first bootstrap when no users exist)
AUTH_DEFAULT_ADMIN_PASSWORD=changeme

# CORS allowed origins (comma-separated)
CORS_ALLOWED_ORIGINS=http://localhost:3000,http://localhost:5173

# Database migrations (Alembic)
# Migrations are applied automatically on startup. Set to false to run manually.
# AUTO_MIGRATE=false

# Application API Key
API_KEY=dev-api-key-change-me

# ---- Auth Configuration ----
# All auth settings use the AUTH_ prefix. List values use JSON arrays: ["a","b"]
# See full list of settings in yaai/server/auth/config.py

# Master auth switch
AUTH_ENABLED=true

# JWT token signing
# Generate with: openssl rand -base64 32
AUTH_JWT_SECRET=dev-secret-change-me
AUTH_JWT_ALGORITHM=HS256
AUTH_JWT_ACCESS_TOKEN_EXPIRE_MINUTES=60
AUTH_JWT_REFRESH_TOKEN_EXPIRE_DAYS=30

# Local (username/password) authentication
AUTH_LOCAL_ENABLED=true
AUTH_LOCAL_ALLOW_REGISTRATION=false

# Google OAuth (optional — uncomment to enable)
# AUTH_OAUTH_GOOGLE_ENABLED=true
# AUTH_OAUTH_GOOGLE_CLIENT_ID=your-client-id
# AUTH_OAUTH_GOOGLE_CLIENT_SECRET=your-client-secret
# AUTH_OAUTH_GOOGLE_ALLOWED_DOMAINS=["example.com","mycompany.com"]
# AUTH_OAUTH_GOOGLE_AUTO_CREATE_USERS=true
# AUTH_OAUTH_GOOGLE_OWNER_EMAILS=["admin@example.com"]
# AUTH_OAUTH_GOOGLE_VIEWER_EMAILS=["user@example.com"]

# API key auth for service accounts
# AUTH_SERVICE_ACCOUNTS_API_KEYS_ENABLED=true

# Google Service Account auth (optional — uncomment to enable)
# AUTH_SERVICE_ACCOUNTS_GOOGLE_ENABLED=true
# AUTH_SERVICE_ACCOUNTS_GOOGLE_AUDIENCE=https://yaai.example.com
# AUTH_SERVICE_ACCOUNTS_GOOGLE_ALLOWED_EMAILS=["sa@project.iam.gserviceaccount.com"]
