# ---- Core Settings ----
BASE_URL=http://localhost:8000

# Database connection (async driver — sync URL is derived automatically)
DATABASE_URL=postgresql+asyncpg://aimon:changeme@localhost:5431/aimonitoring

# PostgreSQL (used by docker compose)
POSTGRES_USER=aimon
POSTGRES_PASSWORD=changeme
POSTGRES_DB=aimonitoring

# Database migrations (Alembic)
# Migrations are applied automatically on startup. Set to false to run manually.
# AUTO_MIGRATE=false

# ---- Auth Configuration ----
# All auth settings use the AUTH_ prefix. List values use JSON arrays: ["a","b"]
# See full list of settings in yaai/server/auth/config.py

# Master auth switch
AUTH_ENABLED=true

# JWT token signing (optional — auto-generates an ephemeral secret if not set)
# Generate with: openssl rand -base64 32
# AUTH_JWT_SECRET=your-strong-secret

# Session secret (optional — auto-generates an ephemeral secret if not set)
# Generate with: openssl rand -base64 32
# SESSION_SECRET=your-session-secret

# CORS allowed origins (optional — defaults to BASE_URL)
# CORS_ALLOWED_ORIGINS=http://localhost:3000,http://localhost:5173

# Application API Key
API_KEY=dev-api-key-change-me

# Google OAuth (optional — uncomment to enable; disables local auth automatically)
# AUTH_OAUTH_GOOGLE_ENABLED=true
# AUTH_OAUTH_GOOGLE_CLIENT_ID=your-client-id
# AUTH_OAUTH_GOOGLE_CLIENT_SECRET=your-client-secret
# AUTH_OAUTH_GOOGLE_ALLOWED_DOMAINS=example.com,mycompany.com
# AUTH_OAUTH_GOOGLE_AUTO_CREATE_USERS=true
# AUTH_OAUTH_GOOGLE_OWNER_EMAILS=admin@example.com
# AUTH_OAUTH_GOOGLE_VIEWER_EMAILS=user@example.com

# ---- Google Cloud SQL (optional) ----
# Uncomment to use Cloud SQL Connector with IAM auth instead of DATABASE_URL.
# Requires: pip install "yaai-monitoring[gcp]"
# CLOUD_SQL_INSTANCE=project:region:instance
# CLOUD_SQL_IP_TYPE=public
# CLOUD_SQL_IAM_AUTH=true
# CLOUD_SQL_DATABASE=aimonitoring
# CLOUD_SQL_USER=sa@project.iam.gserviceaccount.com

# API key auth for service accounts
# AUTH_SERVICE_ACCOUNTS_API_KEYS_ENABLED=true

# Google Service Account auth (optional — audience defaults to BASE_URL)
# AUTH_SERVICE_ACCOUNTS_GOOGLE_ENABLED=true
# AUTH_SERVICE_ACCOUNTS_GOOGLE_AUDIENCE=https://yaai.example.com
# AUTH_SERVICE_ACCOUNTS_GOOGLE_ALLOWED_EMAILS=sa@project.iam.gserviceaccount.com
